<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download Image Files from the NeuroImaging Tools and Resources
        Collaboratory • nitrcbot</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Download Image Files from the NeuroImaging Tools and Resources
        Collaboratory">
<meta property="og:description" content="Parses and downloads images from various NeuroImaging
        Tools and Resources Collaboratory &lt;https://www.nitrc.org&gt;
        sets.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">nitrcbot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="articles/nitrcbot.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/adigherman/nitrcbot/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="nitrcbot-package-that-retrieves-nitrc-images" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#nitrcbot-package-that-retrieves-nitrc-images" class="anchor" aria-hidden="true"></a>nitrcbot: Package that retrieves NITRC images</h1></div>

<div id="about-nitrc" class="section level2">
<h2 class="hasAnchor">
<a href="#about-nitrc" class="anchor" aria-hidden="true"></a>About NITRC</h2>
<p>Neuroimaging Informatics Tools and Resources Clearinghouse (<a href="https://www.nitrc.org" class="external-link">NITRC</a>) is currently a free one-stop-shop collaboratory for science researchers that need resources such as neuroimaging analysis software, publicly available data sets, or computing power.</p>
<p>NITRC scientific focus includes: PET/SPECT, CT, EEG/MEG, optical imaging, clinical neuroinformatics, computational neuroscience, and imaging genomics software tools, data, and computational resources.</p>
<p>NITRC database currently contains 14 projects, 6845 subjects, and 8285 imaging sessions.</p>
<table class="table">
<colgroup>
<col width="9%">
<col width="19%">
<col width="49%">
<col width="21%">
</colgroup>
<thead><tr class="header">
<th>ID</th>
<th>Name</th>
<th>Description</th>
<th>Access type</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>fcon_1000</td>
<td>1000 Functional Connectomes</td>
<td>The 1000 Functional Connectomes Project.</td>
<td>Public project</td>
</tr>
<tr class="even">
<td>ixi</td>
<td>IXI dataset</td>
<td>IXI (Information eXtraction from Images) dataset. 600 MR images from normal, healthy subjects.</td>
<td>Public project.</td>
</tr>
<tr class="odd">
<td>cs_schizbull08</td>
<td>CANDI Share: Schizophrenia Bulletin 2008</td>
<td>Version 1.1 of the CANDI Share Schizophrenia Bulletin 2008 data.</td>
<td>Public project.</td>
</tr>
<tr class="even">
<td>parktdi</td>
<td>High-quality diffusion-weighted imaging of Parkinson’s disease</td>
<td>Data for a set of 53 subjects in a cross-sectional Parkinson’s disease (PD) study.</td>
<td>Public project.</td>
</tr>
<tr class="odd">
<td>studyforrest_rev003</td>
<td>Study Forrest rev003</td>
<td>Study Forrest rev00 3. <a href="http://studyforrest.org/" class="external-link uri">http://studyforrest.org/</a> Supported by BMBF 01GQ1112 and NSF 1129855.</td>
<td>Public project.</td>
</tr>
<tr class="even">
<td>ABIDE</td>
<td>ABIDE</td>
<td>Autism Brain Imaging Data Exchange.</td>
<td>Access required.</td>
</tr>
<tr class="odd">
<td>adhd_200</td>
<td>ADHD-200</td>
<td>The ADHD-200 sample from the 1000 Functional Connectomes project.</td>
<td>Access required.</td>
</tr>
<tr class="even">
<td>beijing_enh</td>
<td>Beijing Enhanced</td>
<td>INDI Beijing Enhanced.</td>
<td>Access required.</td>
</tr>
<tr class="odd">
<td>beijing_eoec</td>
<td>Beijing Eyes Open Eyes Closed</td>
<td>INDI Beijing Eyes Open Eyes Closed Study.</td>
<td>Access required.</td>
</tr>
<tr class="even">
<td>short_tr</td>
<td>Beijing Short TR</td>
<td>INDI Beijing Short TR Study.</td>
<td>Access required.</td>
</tr>
<tr class="odd">
<td>corr</td>
<td>Consortium for Reliability and Reproducibility (CoRR)</td>
<td>The goal of CoRR was to create an open science resource for the imaging community that facilitates the assessment of test-retest reliability and reproducibility.</td>
<td>Access required.</td>
</tr>
<tr class="even">
<td>nki_rockland</td>
<td>INDI NKI/Rockland Sample</td>
<td></td>
<td>Access required.</td>
</tr>
<tr class="odd">
<td>kin</td>
<td>Kurtosis Imaging Network (KIN)</td>
<td>Kurtosis Imaging Network (KIN) is an open source database for normal healthy controls as well as various pathologies in an attempt to establish a standard range of kurtosis values within each population. This database of diffusional kurtosis images will also allow for quantitative comparisons between sites, vendors, and various protocol parameters. Finally, KIN will also help develop a strong collaborative network for researchers to troubleshoot current projects and create future projects.</td>
<td>Access required.</td>
</tr>
<tr class="even">
<td>PING</td>
<td>Pediatric Imaging, Neurocognition, and Genetics (PING) Study</td>
<td>The Data Resource includes neurodevelopmental histories, information about developing mental and emotional functions, multimodal brain imaging data, and genotypes for well over 1000 children and adolescents between the ages of 3 and 20.</td>
<td>Access required.</td>
</tr>
</tbody>
</table>
</div>
<div id="accessing-data" class="section level2">
<h2 class="hasAnchor">
<a href="#accessing-data" class="anchor" aria-hidden="true"></a>Accessing Data</h2>
<p>In order to access the NITRC data, a user account is required. One can be requested <a href="https://www.nitrc.org/account/register.php" class="external-link">here</a>. Some of the projects are public and can be accessed right away, while some others will need an additional access request.</p>
</div>
<div id="installing-the-nitrcbot-package" class="section level2">
<h2 class="hasAnchor">
<a href="#installing-the-nitrcbot-package" class="anchor" aria-hidden="true"></a>Installing the nitrcbot package</h2>
<p>You can install <code>nitrcbot</code> from github with:</p>
<pre class="{r}"><code># install.packages("devtools")
devtools::install_github("adigherman/nitrcbot")</code></pre>
</div>
<div id="setting-the-username-and-password" class="section level2">
<h2 class="hasAnchor">
<a href="#setting-the-username-and-password" class="anchor" aria-hidden="true"></a>Setting the username and password</h2>
<p>In the <code>nitrcbot</code> package, set_credentials will set the username and password:</p>
<pre class="{r}"><code>set_credentials(username = "XXX", password = "YYY")</code></pre>
<p>or they can be stored in <code>NITRC_WEB_USER</code> and <code>NITRC_WEB_PASS</code> <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/EnvVar.html" class="external-link">environment variables</a>.</p>
<p>Once the username and password are set, <code>nitrcbot</code> functions can be used. To test the username and password, one can run <code>list_image_sets</code>, a simple function that will retrieve all available NITRC projects summary.</p>
<pre class="{r}"><code>nitrc_sets &lt;- nitrcbot::list_image_sets()
nitrc_sets_summary &lt;- nitrc_sets[,c("ID","Name","Subjects")]</code></pre>
<pre class="{r}"><code>nitrc_sets_summary
                   ID                                                           Name Subjects
1                  kin                                       Kurtosis Imaging Network       81
2  studyforrest_rev003                                           Study Forrest rev003       20
3         nki_rockland                                       INDI NKI/Rockland Sample      207
4                 PING   Pediatric Imaging, Neurocognition, and Genetics (PING) Study        0
5                  ixi                                                    IXI dataset      584
6              parktdi High-quality diffusion-weighted imaging of Parkinson's disease       53
7       cs_schizbull08                       CANDI Share: Schizophrenia Bulletin 2008      103
8             short_tr                                               Beijing Short TR       28
9         beijing_eoec                                  Beijing Eyes Open Eyes Closed       48
10         beijing_enh                                               Beijing Enhanced      180
11               ABIDE                                                          ABIDE     1112
12                corr          Consortium for Reliability and Reproducibility (CoRR)     1386
13           fcon_1000                                    1000 Functional Connectomes     1288
14            adhd_200                                                       ADHD-200      973</code></pre>
<p>The username and password are valid and we have a list of all 14 NITRC projects. If a project has 0 subjects (e.g. PING) this means we need to request access to the PING project through the NITRC website.</p>
</div>
<div id="getting-data-downloading-a-directory-of-data" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-data-downloading-a-directory-of-data" class="anchor" aria-hidden="true"></a>Getting Data: Downloading a Directory of Data</h2>
<p>As an example we will download a directory of images from the <code>ixi</code> project. The first step is to read the project data into a data.frame and for that we’ll use the <code>read_nitrc_project</code> function.</p>
<pre class="{r}"><code>ixi_project &lt;- read_nitrc_project('ixi')
head(ixi_project)
               ID label project gender handedness      session_ID scan_ID   age
1 NITRC_IR_S05189     2     ixi female            NITRC_IR_E10452      PD  35.8
2 NITRC_IR_S05189     2     ixi female            NITRC_IR_E10452      T1  35.8
3 NITRC_IR_S05189     2     ixi female            NITRC_IR_E10452     MRA  35.8
4 NITRC_IR_S05189     2     ixi female            NITRC_IR_E10452     DTI  35.8
5 NITRC_IR_S05189     2     ixi female            NITRC_IR_E10452      T2  35.8
6 NITRC_IR_S05190    12     ixi   male            NITRC_IR_E10453      T1 38.78</code></pre>
<p>We can subset the <code>ixi</code> subjects that are <code>male</code> and have <code>T1</code> imaging.</p>
<pre class="{r}"><code>ixi_T1_males = ixi_project %&gt;%
    filter(gender %in% "male") %&gt;%
    filter(scan_ID %in% "T1") %&gt;%
    select(ID, session_ID) %&gt;%
    unique
head(ixi_T1_males)</code></pre>
<pre class="{r}"><code>               ID      session_ID
1 NITRC_IR_S05190 NITRC_IR_E10453
2 NITRC_IR_S05191 NITRC_IR_E10454
3 NITRC_IR_S05193 NITRC_IR_E10456
4 NITRC_IR_S05194 NITRC_IR_E10457
5 NITRC_IR_S05196 NITRC_IR_E10459
6 NITRC_IR_S05197 NITRC_IR_E10460</code></pre>
<p>We can now download the full directory (individual files) of T1 data using <code>download_nitrc_dir</code> and providing the <code>session_ID</code> and <code>scan_type</code> arguments:</p>
<pre class="{r}"><code>t1_res &lt;- download_nitrc_dir("NITRC_IR_E10453", scan_type="T1")
t1_res$files
[1] "77390_IXI012-HH-1211-T1.nii.gz" "77391_qc_t.gif"                 "77391_qc.gif" </code></pre>
<p>If we’d rather download a zipped file containing the full directory, we need to specify <code>zipped = TRUE</code> as argument for the <code>download_nitrc_dir</code> function:</p>
<pre class="{r}"><code>&gt; download_nitrc_dir("NITRC_IR_E10453", scan_type="T1", zipped = TRUE)
[1] "/var/folders/kr/05bm5krj0r3fpwxfdmx4xthm0000gn/T//RtmpVWPpmG/NITRC_IR_E10453.zip"</code></pre>
</div>
<div id="getting-data-downloading-a-single-file" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-data-downloading-a-single-file" class="anchor" aria-hidden="true"></a>Getting Data: Downloading a Single File</h2>
<p>We can also download a single file using <code>download_nitrc_file</code>. To identify the file URI, we’ll use the <code>get_scan_resources</code> function:</p>
<pre class="{r}"><code>r &lt;- get_scan_resources('NITRC_IR_E10453')
&gt; head(r$URI)
[1] "/data/experiments/NITRC_IR_E10453/scans/DTI/resources/77382/files/IXI012-HH-1211-DTI-00.nii.gz"
[2] "/data/experiments/NITRC_IR_E10453/scans/DTI/resources/77382/files/IXI012-HH-1211-DTI-01.nii.gz"
[3] "/data/experiments/NITRC_IR_E10453/scans/DTI/resources/77382/files/IXI012-HH-1211-DTI-02.nii.gz"
[4] "/data/experiments/NITRC_IR_E10453/scans/DTI/resources/77382/files/IXI012-HH-1211-DTI-03.nii.gz"
[5] "/data/experiments/NITRC_IR_E10453/scans/DTI/resources/77382/files/IXI012-HH-1211-DTI-04.nii.gz"
[6] "/data/experiments/NITRC_IR_E10453/scans/DTI/resources/77382/files/IXI012-HH-1211-DTI-05.nii.gz"</code></pre>
<pre class="{r}"><code>&gt; download_nitrc_file("/data/experiments/NITRC_IR_E10453/scans/DTI/resources/77382/files/IXI012-HH-1211-DTI-05.nii.gz")
[1] "/var/folders/kr/05bm5krj0r3fpwxfdmx4xthm0000gn/T//RtmpVWPpmG/IXI012-HH-1211-DTI-05.nii.gz"</code></pre>
</div>
<div id="retrieve-scan-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#retrieve-scan-parameters" class="anchor" aria-hidden="true"></a>Retrieve scan parameters</h2>
<p>To retrieve the scan paramaters for a specific subject we can use the <code>get_scan_params</code> function:</p>
<pre class="{r}"><code>&gt; get_scan_params('NITRC_IR_E11033')
  type imagescandata_id      TR     TE flip matrix_X matrix_Y voxel_X voxel_Y voxel_Z frames partitions fieldStrength quality
1  DTI            44882 9054.01   80.0   90                                                                                  
2  MRA            44883    20.0 6.9052   25                                                                                  
3   PD            44884 8178.34    8.0   90                                                                                  
4   T1            44885   9.813  4.603    8                                                                                  
5   T2            44886 8178.34  100.0   90  </code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=nitrcbot">https://​cloud.r-project.org/​package=nitrcbot</a>
</li>
<li>Browse source code at <br><a href="https://github.com/adigherman/nitrcbot/">https://​github.com/​adigherman/​nitrcbot/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/adigherman/nitrcbot/issues">https://​github.com/​adigherman/​nitrcbot/​issues</a>
</li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></li>
</ul>
</div>


<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Adi Gherman <br><small class="roles"> Author, maintainer </small>  </li>
<li>John Muschelli <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/adigherman/nitrcbot" class="external-link"><img src="https://travis-ci.org/adigherman/nitrcbot.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/adigherman/nitrcbot" class="external-link"><img src="https://ci.appveyor.com/api/projects/status/j9r27opai5xl48cy/branch/master?svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://codecov.io/gh/adigherman/nitrcbot" class="external-link"><img src="https://codecov.io/gh/adigherman/nitrcbot/branch/master/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Adi Gherman, John Muschelli.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
